var o=(t=>(t.PopupClickScript="script",t.Background="serviceWorker",t.Content="contentScript",t))(o||{});const s="",d=t=>`${t}.js`;var a=(t=>(t.ChangePopupIcon="ChangePopupIcon",t))(a||{});function u(){const t=[...Array.from(document.querySelectorAll("video"))].filter((t=>0!=t.readyState)).filter((t=>!t.disablePictureInPicture)).sort(((t,e)=>{const i=t.getClientRects()[0]||{width:0,height:0},n=e.getClientRects()[0]||{width:0,height:0};return n.width*n.height-i.width*i.height}));return 0===t.length?void 0:(e=t[0])&&e.currentTime>0&&!e.ended&&e.readyState>2;var e}const h=async t=>{var e;chrome.scripting.executeScript({target:{tabId:null==(e=t.tab)?void 0:e.id,allFrames:!0},world:"MAIN",func:u}).then((e=>{var i;chrome.action.setIcon({tabId:null==(i=t.tab)?void 0:i.id,path:~e.findIndex((t=>t.result))?"/icons/icon38.png":"/icons/inactive.png"})}))};chrome.runtime.onMessage.addListener((async({action:t},e)=>{switch(t){case a.ChangePopupIcon:await h(e)}return!0})),chrome.action.onClicked.addListener((t=>{chrome.scripting.executeScript({target:{tabId:t.id,allFrames:!0},world:"MAIN",files:[d(o.PopupClickScript)]})}));